type Query {
    contacts(queryOptions: QueryOptions, organizationId: ID): ContactsResult
    organizations(queryOptions: QueryOptions, organizationId: ID): OrganizationsResult
    positions(queryOptions: QueryOptions): PositionsResult
    irds(queryOptions: QueryOptions): IrdsResult
    stages(queryOptions: QueryOptions): StagesResult
    tasks(queryOptions: QueryOptions): TasksResult
    projects(queryOptions: QueryOptions, projectId: ID): ProjectsResult
    persons(queryOptions: QueryOptions): PersonsResult
    biks(queryOptions: QueryOptions): BikResult
    passportPlaceIssues(queryOptions: QueryOptions): PassportPlaceIssueResult
    banks(queryOptions: QueryOptions): BanksResult

    typeProjects(queryOptions: QueryOptions): TypeProjectsResult
    technicalSpecification: TechnicalSpecificationResult
    groupTypeProjects: groupTypeProjecResult

    paymentsProjects(queryOptions: QueryOptions, projectId: ID): [projectPayment]

    templatesIrdsTypeProjects(typeProject: ID): [TemplateIRD]
    templatesStagesTypeProjects(typeProject: ID): [TemplateStage]
    templatesTasksTypeProjects(typeProject: ID): [TemplateTask]

    projectIrds(queryOptions: QueryOptions, projectId: ID): [ProjectIRD]
    projectStages(queryOptions: QueryOptions ,projectId: ID): [ProjectStage]
    projectTasks(queryOptions: QueryOptions ,projectId: ID): [ProjectTask]

    currentUser: User!

    legalForms: [LegalForm]!
    facilities: [Facility!]!
    TypePayments: [TypePayment]
    projectStatuses: [ProjectStatus!]!

}
input QueryOptions {
    id: Int
    page: Int
    limit: Int
    search: String
    sortField: String
    sortOrder: String
    searchOrganizationId: String
}
input StageToProject {
    id: ID
    projectId: ID!
    stage_id: ID
    stageNumber: Int
    price: Float
    percent: Int
    dateStart: String
    duration: Int
    dateEnd: String
    progress: Int
    price_to_paid: Float
}
input TasksToProject {
    id: ID
    projectId: ID!
    stage_id: ID
    stageNumber: Int
    price: Float
    percent: Int
    dateStart: String
    duration: Int
    dateEnd: String
    progress: Int
}
input IrdToProject {
    projectId: ID!
    irdId: ID
    stageNumber: Int
    applicationProject: Int
    receivedDate: String
}
input TemplateStageToTypeProject {
    stage_id: ID
    project_type_id: ID
    duration: Int
    stage_number: Int
    percentage: Int
}
input ProjectInput {
    id: ID
    number: String
    name: String
    organization_customer_id: ID
    type_project_document_id: ID
    date_signing: String
    duration: Int
    date_end: String
    date_create: String
    status_id: ID
    date_completion: String
    price: Int
    facilitys_id: [String]
    delegates_id: [String]
}
type Mutation {
    personOrderFileDownload(
        personId: ID
    ): File!
    projectPaymentInvoiceFileDownload(
        projectId: ID
        stageNumber: ID
    ): File!
    projectActRenderingFileDownload(
        projectId: ID
        stageNumber: ID
    ): File!
    projectOrderFileDownload(
        projectId: ID
    ): File!
    projectIrdsFileDownload(
        projectId: ID
    ): File!
    projectStagesFileDownload(
        projectId: ID
    ): File!

    updateTask(
        names: [String]
    ): [Task]

    updateIrdsToProject(
        items: [IrdToProject]
    ): Int
    updateStagesToProject(
        items: [StageToProject]
    ): Int
    updateTasksToProject(
        items: [TasksToProject]
    ): Int
    updatePaymentsToProject(
        project: ID
    ): Int


    updateIrdsTemplate(
        typeProjectId: ID
        listIrds_id: [ID]
        listStageNumber: [Int]
        listAppNumber: [Int]
    ) : Int

    updateTaskTemplate(
        typeProjectId: ID,
        listTasks_id: [ID],
        listInheritedTasks_id: [ID],
        stageNumber: [Int],
    ) : Int

    updateStagesTemplate(
        items: [TemplateStageToTypeProject]
    ) : Int

    addTechnicalSpecification(
        name: String
    ): TechnicalSpecification
    updateTechnicalSpecification(
        id: ID
        name: String
        techicalSpecification: ID
    ): TechnicalSpecification
    addGroupTypeProject(
        name: String
        techicalSpecification: ID
    ): GroupTypeProjectDocument
    updateGroupTypeProject(
        id: ID
        name: String
    ): GroupTypeProjectDocument

    addTypeProject(
        name: String
        code: String
    ): TypeProjectDocument
    updateTypeProject(
        id: ID
        name: String
        code: String
    ): TypeProjectDocument
    deleteTypeProject (
        id: ID
    ): String

    addIrd(
        name: String
    ): IRD!
    updateIrd(
        id: ID!
        name: String!
    ): IRD!
    deleteIrd (
        id: ID!
    ): String

    addStage(
        name: String!
    ): Stage!
    updateStage(
        id: ID!
        name: String!
    ): Stage!
    deleteStage (
        id: ID!
    ): String


    addPpi(
        name: String!
        code: String!
    ): PassportPlaceIssue!

    updatePpi(
        id: ID!
        name: String!
        code: String!
    ): PassportPlaceIssue!

    addBik(
        bik: String!
        name: String!
        correspondent_account: String
    ):  bik!

    updateBik(
        id: ID!
        bik: String!
        name: String!
        correspondent_account: String
    ):  bik!
    addContact(
        first_name: String!
        last_name: String
        patronymic: String
        birth_day: String
        work_phone: String
        mobile_phone: String
        work_email: String
        email: String
        position_id: ID
        organization_id: ID
    ): Contact!

    updateContact(
        id: ID!
        first_name: String!
        last_name: String
        patronymic: String
        birth_day: String
        work_phone: String
        work_email: String
        mobile_phone: String
        email: String
        position_id: ID
        organization_id: ID
    ): Contact!
    deleteContact (
        id: ID!
    ): Contact
    deletePerson (
        id: ID!
    ): Person

    deleteOrganization (
        id: ID!
    ): Organization
    addOrganization(
        legal_form_id: ID!
        name: String!
        full_name: String!
        address_legal: String
        office_number_legal: String
        address_mail: String
        office_number_mail: String
        phone_number: String
        fax_number: String
        email: String
        INN: String
        OGRN: String
        OKPO: String
        KPP: String
        bik_id: ID
        payment_account: String
        director_id: ID
    ): Organization!

    updateOrganization(
        id: ID!
        legal_form_id: ID!
        name: String!
        full_name: String
        address_legal: String
        office_number_legal: String
        address_mail: String
        office_number_mail: String
        phone_number: String
        fax_number: String
        email: String
        INN: String
        OGRN: String
        OKPO: String
        KPP: String
        bik_id: ID
        payment_account: String
        director_id: ID
    ): Organization!

    updatePerson(
        id: ID!
        firstname: String
        lastname: String
        patronymic: String
        serial: String
        number: String
        passport_place_issue_id: ID
        address_registration: String
        address_residential: String

        birth_date: String
        date: String

        SHILS: String
        INN: String
        payment_account: String
        phone_number: String
        email: String
        email_sibnipi: String
        bank_id: ID
        bik_id: ID
    ): Person!
    addPerson(
        firstname: String
        lastname: String
        patronymic: String
        serial: String
        number: String
        passport_place_issue_id: ID
        address_registration: String
        address_residential: String

        birth_date: String
        date: String

        SHILS: String
        INN: String
        payment_account: String
        phone_number: String
        email: String
        email_sibnipi: String
        bank_id: ID
        bik_id: ID
    ): Person!

    updateFacility(
        id: ID!
        name: String!
        type: ID!
    ): Facility!
    addFacility(
        name: String!
        type: ID!
    ): Facility!

    updateProject(
        data: ProjectInput
        tasks: [ProjectTasksInput]
        stages: [ProjectStageInput]
        irds: [ProjectIrdInput]
    ): Project!
    addProject(
        data: ProjectInput

        tasks: [ProjectTasksInput]
        stages: [ProjectStageInput]
        irds: [ProjectIrdInput]

    ): Project!

    updateProjectStage(
        id: ID!
        project_id: ID!
        stage_id: ID!
        progress: String!
        date_start: String!
        duration: String!
    ): ProjectStage!
    addProjectStage(
        project_id: ID!
        stage_id: ID!
        progress: String!
        date_start: String!
        duration: String!
    ): ProjectStage!
}
input ProjectIrdInput {
    stage: ID
    persent: Int
    date_start: String
    date_end: String
    number: Int
}input ProjectStageInput {
    stage: ID
    persent: Int
    date_start: String
    date_end: String
    number: Int
}input ProjectTasksInput {
    stage: ID
    persent: Int
    date_start: String
    date_end: String
    number: Int
}

type BikResult {
    items: [bik]
    count: Int
}type PassportPlaceIssueResult {
    items: [PassportPlaceIssue]
    count: Int
}type ContactsResult {
    items: [Contact]
    count: Int
}type BanksResult {
    items: [Bank]
    count: Int
}type OrganizationsResult {
    items: [Organization]
    count: Int
}type PositionsResult {
    items: [Position]
    count: Int
}type ProjectsResult {
    items: [Project]
    count: Int
}type PersonsResult {
    items: [Person]
    count: Int
}type IrdsResult {
    items: [IRD]
    count: Int
}type StagesResult {
    items: [Stage]
    count: Int
}type TasksResult {
    items: [Task]
    count: Int
}type TypeProjectsResult {
    items: [TypeProjectDocument]
    count: Int
}type TechnicalSpecificationResult {
    items: [TechnicalSpecification]
    count: Int
}type groupTypeProjecResult {
    items: [GroupTypeProjectDocument]
    count: Int
}type Contact {
    id: ID!
    first_name: String!
    last_name: String
    patronymic: String
    birth_day: String
    work_phone: String
    work_email: String
    mobile_phone: String
    email: String
    position: Position
    organization: Organization
}type ProjectStatus{
    id: ID!
    name: String!
}type PositionName {
    id: ID!
    name: String!
}type CurrentUser {
    user: User!
    access_token: String!
}type TypePayment {
    id: ID!
    name: String!
}type projectPayment {
    id: ID!
    date_time_payment: String
    project: Project
    type_payment: TypePayment
    price: Int
}type User {
    id: ID!
    name: String
    email: String
    role: Role
}type Role {
    id: ID!
    name: String!
}type Content {
    id: ID!
    name: String!
}type Position {
    id: ID!
    name: String!
}input RegisterInput {
    name: String!
    email: String!
    password: String!
}input LoginInput {
    email: String
    password: String
}type File {
    url: String
}
type AuthPayload {
    user: User
    access_token: String!
}type Organization{
    id: ID!
    legal_form: LegalForm!
    name: String!
    full_name: String
    address_legal: String
    office_number_legal: String
    address_mail: String
    office_number_mail: String
    phone_number: String
    fax_number: String
    email: String
    INN: String
    OGRN: String
    OKPO: String
    KPP: String
    bik:  bik
    payment_account: String
    director: Contact
}type LegalForm{
    id: ID!
    name: String!
}type  bik{
    id: ID!
    BIK: String
    name: String
    correspondent_account: String
}type Person{
    id: ID!
    passport: Passport!
    SHILS: String
    INN: String
    payment_account: String
    phone_number: String
    email: String
    email_sibnipi: String
    bank: Bank
    bik:  bik
}type Passport{
    id: ID!
    firstname: String
    lastname: String
    patronymic: String
    serial: String
    number: String
    address_residential: String
    address_registration: String
    passport_place_issue: PassportPlaceIssue
    birth_date: String
    date: String
}type PassportPlaceIssue{
    id: ID!
    name: String!
    code: String!
}type Bank{
    id: ID!
    name: String!
}type Facility{
    id: ID!
    name: String!
    type_facility: TypeFacility
    group: GroupFacility
}type TypeFacility{
    id: ID!
    name: String!
}type GroupFacility{
    id: ID!
    name: String!
    subselectionFacility: SubselectionFacility
}type SubselectionFacility{
    id: ID!
    name: String!
    selectionFacility: SelectionFacility
}type SelectionFacility{
    id: ID!
    name: String!
}type Project{
    id: ID!
    number: String
    name: String
    organization_customer: Organization
    type_project_document: TypeProjectDocument
    facilitys: [Facility]
    date_signing: String
    date_create: String
    duration: Int
    date_end: String
    status: ProjectStatus
    date_completion: String
    delegations: [Contact]
    price: Int
    project_irds: [ProjectIRD]
    project_stages: [ProjectStage]
}type ProjectStage{
    id: ID!
    project: Project
    stage: Stage
    number: Int
    price: Float
    percent: Int
    date_start: String
    duration: Int
    date_end: String
    progress: Int
}type ProjectTask{
    id: ID!
    project: Project
    task: Task

}type ProjectIRD{
    id: ID!
    project: Project
    IRD: IRD
    receivedDate: String
    stageNumber: String
    applicationProject: String
}type TypeProjectDocument{
    id: ID!
    name: String!
    code: String!
    group: GroupTypeProjectDocument
}type IRD{
    id: ID!
    name: String!
}type GroupTypeProjectDocument{
    id: ID!
    name: String!
    technicalSpecification: TechnicalSpecification
}type TechnicalSpecification{
    id: ID!
    name: String!
}type Stage{
    id: ID!
    name: String
}type Task{
    id: ID!
    name: String
}type TemplateIRD {
    id: ID!
    project_type: TypeProjectDocument
    ird: IRD
    stage_number: Int
    application_to_project: Int
}type TemplateStage{
    id: ID!
    stage: Stage
    project_type: TypeProjectDocument
    duration: Int
    number: Int
    percentage: Int
}type TemplateTask{
    id: ID!
    task: Task
    inheritedTask: TemplateTask
    inherited_task_id: ID
    stage_number: Int
}
extend type Mutation {
    register(input: RegisterInput!): AuthPayload!
    login(input:  LoginInput!): AuthPayload!
}
