#import auth.graphql
#import file_downloads.graphql
#import projects.graphql
#import result.graphql
#import templates.graphql
#import fenrir.graphql
type Query {
    contacts(queryOptions: QueryOptions, organizationId: ID): ContactsResult @checkRole(roles: ["admin"])
    organizations(queryOptions: QueryOptions, organizationId: ID): OrganizationsResult @checkRole(roles: ["admin"])
    positions(queryOptions: QueryOptions): PositionsResult @checkRole(roles: ["admin"])
    irds(queryOptions: QueryOptions): IrdsResult @checkRole(roles: ["admin"])
    stages(queryOptions: QueryOptions): StagesResult @checkRole(roles: ["admin"])
    tasks(queryOptions: QueryOptions): TasksResult @checkRole(roles: ["admin"])
    projects(queryOptions: QueryOptions, projectId: ID): ProjectsResult
    persons(queryOptions: QueryOptions): PersonsResult @checkRole(roles: ["admin"])
    biks(queryOptions: QueryOptions): BikResult @checkRole(roles: ["admin"])
    passportPlaceIssues(queryOptions: QueryOptions): PassportPlaceIssueResult @checkRole(roles: ["admin"])
    banks(queryOptions: QueryOptions): BanksResult @checkRole(roles: ["admin"])

    typeProjects(queryOptions: QueryOptions): TypeProjectsResult @checkRole(roles: ["admin"])
    technicalSpecification: TechnicalSpecificationResult @checkRole(roles: ["admin"])
    typeTechnicalSpecification: TypeTechnicalSpecification @checkRole(roles: ["admin"])
    sectionReferences: SectionReferenceResult @checkRole(roles: ["admin"])
    groupTypeProjects: [GroupTypeProjectDocument] @checkRole(roles: ["admin"])

    templatesIrdsTypeProjects(typeProject: ID): [TemplateIRD] @checkRole(roles: ["admin"])
    templatesStagesTypeProjects(typeProject: ID): [TemplateStage] @checkRole(roles: ["admin"])
    templatesTasksTypeProjects(typeProject: ID): [TemplateTask] @checkRole(roles: ["admin"])
    templatesSectionReferencesTypeProjects(typeProject: ID): [TemplateSectionReference] @checkRole(roles: ["admin"])

    projectIrds(queryOptions: QueryOptions, projectId: ID): [ProjectIRD] @checkRole(roles: ["admin"])
    projectStages(queryOptions: QueryOptions ,projectId: ID): [ProjectStage] @checkRole(roles: ["admin"])
    projectTasksQuery(queryOptions: QueryOptions ,projectId: ID): [ProjectTask] @checkRole(roles: ["admin"])
    projectSectionReferences(queryOptions: QueryOptions ,projectId: ID): [ProjectSectionReference] @checkRole(roles: ["admin"])

    formulaByKey(queryOptions: QueryOptions ,keys: [String!]): FormulaResult @checkRole(roles: ["admin"])
    references(queryOptions: QueryOptions): ReferenceResult @checkRole(roles: ["admin"])
    fenrirs(queryOptions: QueryOptions): FenrirsResult @checkRole(roles: ["admin"])
    templateFenrirs(queryOptions: QueryOptions): FenrirsResult @checkRole(roles: ["admin"])
    templateFenrirsTypeProject(projectId: ID): FenrirsResult @checkRole(roles: ["admin"])
    projectFenrirs(typeProject: ID): FenrirsResult @checkRole(roles: ["admin"])

    currentUser: User!

    legalForms: [LegalForm]!
    facilities: [SelectionFacility!]!
    TypePayments: [TypePayment]
    projectStatuses: [ProjectStatus!]!
}
directive @checkRole(roles: [String!]) on FIELD_DEFINITION | FIELD

input QueryOptions {
    id: Int
    page: Int
    limit: Int
    search: String
    searchColumns: String
    find: String
    findColumns: String
    sortField: String
    sortOrder: String
}

type Mutation {
    updateTask(
        names: [String]
    ): [Task] @checkRole(roles: ["admin"])

    createTypeTechnicalSpecification(
        name: String
    ): TypeTechnicalSpecification
    updateTypeTechnicalSpecification(
        id: ID
        name: String
        techicalSpecification: ID
    ): TypeTechnicalSpecification @checkRole(roles: ["admin"])

    createGroupTypeProject(
        name: String
        techicalSpecification: ID
    ): GroupTypeProjectDocument @checkRole(roles: ["admin"])
    updateGroupTypeProject(
        id: ID
        name: String
    ): GroupTypeProjectDocument @checkRole(roles: ["admin"])

    createTypeProject(
        name: String
        group_id: ID
        code: String
    ): TypeProjectDocument @checkRole(roles: ["admin"])
    updateTypeProject(
        id: ID
        name: String
        group_id: ID
        code: String
    ): TypeProjectDocument @checkRole(roles: ["admin"])
    deleteTypeProject (
        id: ID
    ): String @checkRole(roles: ["admin"])

    createIrd(
        name: String
    ): IRD! @checkRole(roles: ["admin"])
    updateIrd(
        id: ID!
        name: String!
    ): IRD! @checkRole(roles: ["admin"])
    deleteIrd (
        id: ID!
    ): String @checkRole(roles: ["admin"])

    createStage(
        name: String!
    ): Stage! @checkRole(roles: ["admin"])
    updateStage(
        id: ID!
        name: String!
    ): Stage! @checkRole(roles: ["admin"])
    deleteStage (
        id: ID!
    ): String @checkRole(roles: ["admin"])

    createPpi(
        name: String!
        code: String!
    ): PassportPlaceIssue! @checkRole(roles: ["admin"])
    updatePpi(
        id: ID!
        name: String!
        code: String!
    ): PassportPlaceIssue! @checkRole(roles: ["admin"])

    createBik(
        bik: String!
        name: String!
        correspondent_account: String
    ):  bik! @checkRole(roles: ["admin"])
    updateBik(
        id: ID!
        bik: String!
        name: String!
        correspondent_account: String
    ):  bik! @checkRole(roles: ["admin"])

    createContact(
        first_name: String!
        last_name: String
        patronymic: String
        birth_day: String
        work_phone: String
        mobile_phone: String
        work_email: String
        email: String
        position_id: ID
        organization_id: ID
    ): Contact! @checkRole(roles: ["admin"])
    updateContact(
        id: ID!
        first_name: String!
        last_name: String
        patronymic: String
        birth_day: String
        work_phone: String
        work_email: String
        mobile_phone: String
        email: String
        position_id: ID
        organization_id: ID
    ): Contact! @checkRole(roles: ["admin"])
    deleteContact (
        id: ID!
    ): Contact @checkRole(roles: ["admin"])


    createOrganization(
        legal_form_id: ID!
        name: String!
        full_name: String!
        address_legal: String
        office_number_legal: String
        address_mail: String
        office_number_mail: String
        phone_number: String
        fax_number: String
        email: String
        INN: String
        OGRN: String
        OKPO: String
        KPP: String
        bik_id: ID
        payment_account: String
        director_id: ID
    ): Organization! @checkRole(roles: ["admin"])
    updateOrganization(
        id: ID!
        legal_form_id: ID!
        name: String!
        full_name: String
        address_legal: String
        office_number_legal: String
        address_mail: String
        office_number_mail: String
        phone_number: String
        fax_number: String
        email: String
        INN: String
        OGRN: String
        OKPO: String
        KPP: String
        bik_id: ID
        payment_account: String
        director_id: ID
    ): Organization! @checkRole(roles: ["admin"])
    deleteOrganization (
        id: ID!
    ): Organization @checkRole(roles: ["admin"])

    createPerson(
        firstname: String
        lastname: String
        patronymic: String
        serial: String
        number: String
        passport_place_issue_id: ID
        address_registration: String
        address_residential: String
        birth_date: String
        date: String
        SHILS: String
        INN: String
        payment_account: String
        phone_number: String
        email: String
        email_sibnipi: String
        bank_id: ID
        bik_id: ID
    ): Person! @checkRole(roles: ["admin"])
    updatePerson(
        id: ID!
        firstname: String
        lastname: String
        patronymic: String
        serial: String
        number: String
        passport_place_issue_id: ID
        address_registration: String
        address_residential: String
        brth_date: String
        date: String
        SHILS: String
        INN: String
        payment_account: String
        phone_number: String
        email: String
        email_sibnipi: String
        bank_id: ID
        bik_id: ID
    ): Person! @checkRole(roles: ["admin"])
    deletePerson (
        id: ID!
    ): Person @checkRole(roles: ["admin"])

    updateFacility(
        id: ID!
        name: String!
        type: ID!
    ): Facility! @checkRole(roles: ["admin"])
    createFacility(
        name: String!
        type: ID!
    ): Facility! @checkRole(roles: ["admin"])
}
type Contact {
    id: ID!
    first_name: String!
    last_name: String
    patronymic: String
    birth_day: String
    work_phone: String
    work_email: String
    mobile_phone: String
    email: String
    position: Position
    organization: Organization
}
type ProjectStatus{
    id: ID!
    name: String!
}
type PositionName {
    id: ID!
    name: String!
}
type CurrentUser {
    user: User!
    access_token: String!
}
type TypePayment {
    id: ID!
    name: String!
}
type projectPayment {
    id: ID!
    date_time_payment: String
    project: Project
    type_payment: TypePayment
    price: Int
}
type User {
    id: ID!
    name: String
    email: String
    role: Role
}
type Role {
    id: ID!
    name: String!
}
type Content {
    id: ID!
    name: String!
}
type Position {
    id: ID!
    name: String!
}
type Organization{
    id: ID!
    legal_form: LegalForm!
    name: String!
    full_name: String
    address_legal: String
    office_number_legal: String
    address_mail: String
    office_number_mail: String
    phone_number: String
    fax_number: String
    email: String
    INN: String
    OGRN: String
    OKPO: String
    KPP: String
    bik:  bik
    payment_account: String
    director: Contact
}
type LegalForm{
    id: ID!
    name: String!
}
type  bik{
    id: ID!
    BIK: String
    name: String
    correspondent_account: String
}
type Person{
    id: ID!
    passport: Passport!
    SHILS: String
    INN: String
    payment_account: String
    phone_number: String
    email: String
    email_sibnipi: String
    bank: Bank
    bik:  bik
}
type Passport{
    id: ID!
    firstname: String
    lastname: String
    patronymic: String
    serial: String
    number: String
    address_residential: String
    address_registration: String
    passport_place_issue: PassportPlaceIssue
    birth_date: String
    date: String
}
type PassportPlaceIssue{
    id: ID!
    name: String!
    code: String!
}
type Bank{
    id: ID!
    name: String!
}
type Facility{
    id: ID!
    name: String!
    code: Int
    type_facility: TypeFacility
    group_facility: GroupFacility
}
type TypeFacility{
    id: ID!
    name: String!
}
type GroupFacility{
    id: ID!
    name: String!
    code: Int
    facilities: [Facility]
    subselection_facility: SubselectionFacility
}
type SubselectionFacility{
    id: ID!
    name: String!
    code: Int
    group_facility: [GroupFacility]
    selection_facility: SelectionFacility
}
type SelectionFacility{
    id: ID!
    name: String!
    code: Int
    subselection_facility: [SubselectionFacility]
}
type ProjectSectionReference{
    id: ID!
    project: Project
    section_reference: SectionReference
    values: String
}
type TypeProjectDocument{
    id: ID!
    name: String!
    code: String!
    group: GroupTypeProjectDocument
}
type IRD{
    id: ID!
    name: String!
}
type GroupTypeProjectDocument{
    id: ID
    name: String
    technical_specification: TypeTechnicalSpecification
}
type TypeTechnicalSpecification{
    id: ID!
    name: String!
}
type SectionReference{
    id: ID!
    name: String!
    description: String!
    values: String!
}
type Stage{
    id: ID!
    name: String
}
type Task{
    id: ID!
    name: String
}



